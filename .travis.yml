---
language: python
services: docker
python:
  - "2.7"

env:
  global:
    - OUTPUT_PATH: "~/Library/Application\ Support/Dash/DocSets/Redbeard28"
    - DOCSET_PATH: "~/redbeard28/docset"
    - IMAGE: "redbeard28/docset:1.0"
  matrix:
    - TYPE_TO_GENERATE: serve
    - TYPE_TO_GENERATE: html

before_install:
  - mkdir -p ~/Library/Application\ Support/Dash/DocSets/Redbeard28
  -

install:
  - pip install molecule docker molecule[docker]

script:
  - ./generate_doc.sh -d $DOCSET_PATH -D . -i $IMAGE -m $TYPE_TO_GENERATE -P $OUTPUT_PATH

